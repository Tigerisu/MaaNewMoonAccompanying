# 第一次启动

## 打开并配置模拟器

**在解压文件后，首先不要着急打开 MNMA，请优先打开模拟器。**

虽然 MaaFramework 框架支持[大多数模拟器](https://maa.plus/docs/zh-cn/manual/device/)，但 MNMA 仅推荐**使用 [mumu](https://mumu.163.com/) 模拟器作为游戏载体。MNMA 在测试时使用 mumu12-v5 官方版**。

在打开模拟器后，请在模拟器设置界面正确设置分辨率。**模拟器分辨率应为 `16:9` 比例（mumu12 的平板预设均为此比例），最低分辨率为 `1280x720`，最低帧率为 `30hz`**。

**请确保模拟器及相关配置符合要求，否则报错将不会被解决。**

## 启动 MNMA

> 本节为 `MaaNewMoonAccompanying-win-x86_64-vx.x.x.zip` 文件（Windows 环境）相关说明，Mac 与 Linux 用户请自行尝试。

在配置好模拟器后，返回解压的文件夹，可以在文件夹内找到如下两个文件：

![图片加载中，请稍等...](/users/dir.png)

其中：

- `MaaPiCli.exe` 为控制台应用
- `MNMA.exe` 为 GUI 应用

如果您不是特别钟情于控制台应用，请**右键`MNMA.exe`后选择以管理员方式运行**，控制台仅作 Debug 时的工具使用。

如果在双击应用后弹出安装.NET 运行库，按照提示一步步安装即可，中间选项全部不需要修改。

::: details 为什么任务栏的图标是牛牛？
MNMA 使用 MFAAvalonia 作为 GUI。MFAAvalonia 是 MaaFw 系列的 GUI 开源项目，因为 MaaFw 最早是由方舟的 Maa 演化而来，因此 MFAAvalonia 的作者选择类似于 Maa 的牛牛图标作为 icon，也因此牛牛图标会被保留。
:::

::: tip
您可以右键 `MNMA.exe`，并依次选择`(->win11:显示更多选项)`->`发送到`->`桌面快捷方式`在桌面创建一个快捷方式，方便以后在桌面直接启动。
:::

如果在双击应用后无法运行或弹出报错，请参考 [问题排查-程序运行类](./errors.md#程序运行类)

## 选择更新源

在打开 MNMA 后，**您可能会看到弹出的检查更新失败提示，可以先忽略**，并选择合适的更新源。

您可以在 Github 与 Mirror 酱两种更新源中选择，首先，打开 MFAA（GUI） 设置界面，并下划至更新设置部分：

![图片加载中，请稍等...](/users/update.png)

在资源下载源配置中，选择 `Github` 或 `Mirror 酱`

MFAA 的默认下载源为`Mirror 酱`，详情可参考：[下载与安装-Mirror 酱支持](./install.md#mirror-酱支持可选)。**若您没有 Mirror 酱服务，请选择 `Github`作为更新源**，但更新速度可能较慢，详情请参考：[问题排查-更新失败/速度缓慢](./errors.md#更新失败速度缓慢)

## 连接模拟器

点击左侧任务图标回到主界面，MNMA 需要连接模拟器，以获取模拟器 ADB 支持。

面板右侧日志将会提示目前的状态：

![图片加载中，请稍等...](/users/init.png)

:::tip

如果模拟器连接失败，请参考[问题排查-模拟器连接失败](./errors.md#模拟器连接失败)

:::

## 初始化 Agent

第一次连接模拟器或运行任务时，Agent 将会调用程序自带的 Python 环境与 pip 下载 MNMA 运行所需的依赖库，因此等待时间可能较久（但要是超过 5 分钟没动静那估计就是寄了），并会输出大量下载日志，若无 `Error` 等字样则正常。

**在 Agent 启动过程中，请不要立刻结束任务，否则可能导致本次开机期间无法正常触控模拟器**

待启动 Agent 完毕并没有出现报错后，系统会提示任务已全部完成。

:::tip
如果 Agent 加载失败，请参考 [问题排查-Agent 加载失败](./errors.md#agent-加载失败)
:::

如果没问题，恭喜你已经可以愉快的使用 MNMA 了！

## 接下来

接下来，推荐您先阅读 [使用技巧](./trick.md)，这里包含了在使用过程中可能出现的需求及其方案

在这之后您可以查看手册的 [功能说明](./funcs.md) 并尝试使用 MNMA 提供的功能，或自行探索

在遇到问题时，您可以查阅 [问题排查](./errors.md)，或在群内向群友提问
